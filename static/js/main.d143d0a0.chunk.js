(this.webpackJsonpabhitalk=this.webpackJsonpabhitalk||[]).push([[0],{63:function(e,n,t){},65:function(e,n,t){},84:function(e,n,t){},85:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var i=t(0),o=t.n(i),a=t(23),r=t.n(a),s=t(8),c=t.n(s),d=t(14),l=t(15),h=t(16),p=t(20),u=t(19),x=t(5),b=t(10),j=t.n(b),g=t(7),f=t(36),m=(t(63),t(37)),O=t(1);var w,v,y,L,k,S,M,C,E,N,P,U,T,z,F,I,A,R,G,J,q,D,B,_,H,K=function(){var e=Object(i.useState)((function(){return JSON.parse(localStorage.getItem("toggleTheme"))||"light"})),n=Object(f.a)(e,2),t=n[0],o=n[1];Object(i.useEffect)((function(){return localStorage.setItem("toggleTheme",JSON.stringify(t)),document.body.classList.add(t),function(){document.body.classList.remove(t),console.log("unmount")}}),[t]);var a="".concat(t," App");return Object(O.jsx)("button",{className:a,onClick:function(){return o("light"===t?"dark":"light")},children:Object(O.jsx)(m.a,{})})},Q=(t(65),t(2)),V=t(3),W=V.a.div(w||(w=Object(Q.a)(["\n  background-color: #5bdb94;\n  height: 60px;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n  padding: 10px;\n  position: sticky;\n  top: 0;\n  box-shadow: 0 4px 10px #0000001a;\n  -webkit-box-shadow: 0 4px 10px #0000001a;\n"]))),X=V.a.div(v||(v=Object(Q.a)(["\n  width: 200px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  @media (max-width: 575px) {\n    width: 100px;\n  }\n"]))),Y=V.a.button(y||(y=Object(Q.a)(["\n  background-color: transparent;\n  border: 1px solid white !important;\n  padding: 5px 20px;\n  border-radius: 5px;\n  float: right;\n  color: white;\n  box-shadow: 0 4px 10px #0000001a;\n  -webkit-box-shadow: 0 4px 10px #0000001a;\n"]))),Z=function(e){e.history;return Object(O.jsxs)(W,{children:[Object(O.jsx)("search",{children:Object(O.jsx)("input",{type:"text",placeholder:"Search...",onChange:function(n){return e.filterMovieList(n)}})}),Object(O.jsx)(K,{}),Object(O.jsx)(X,{children:Object(O.jsx)(g.b,{to:"/login",children:Object(O.jsx)(Y,{type:"button",onClick:function(){localStorage.removeItem("login-token")},children:"Logout"})})})]})},$=V.a.div(L||(L=Object(Q.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background: #a74d92;\n  min-height: 800px;\n"]))),ee=V.a.div(k||(k=Object(Q.a)(["\n  height: 100%;\n  width: 25%;\n  background-color: white;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin-top: 10%;\n  box-shadow: 0 4px 10px #0000001a;\n  -webkit-box-shadow: 0 4px 10px #0000001a;\n  -moz-box-shadow: 0 4px 10px #0000001a;\n\n  @media (max-width: 768px) {\n    width: 90%;\n  }\n"]))),ne=V.a.div(S||(S=Object(Q.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 2%;\n  @media screen (min-width: 768px) {\n    height: 50vh;\n  }\n"]))),te=V.a.h1(M||(M=Object(Q.a)(["\n  font-family: italic;\n  width: 100%;\n  text-align: center;\n  font-size: 24px;\n  padding: 5% 0%;\n"]))),ie=V.a.form(C||(C=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding-bottom: 10%;\n"]))),oe=V.a.label(E||(E=Object(Q.a)(["\n  color: #1c1321;\n  font-family: sans-serif;\n  font-weight: bold;\n  width: 70%;\n  margin: auto;\n  margin-bottom: 3%;\n  margin-top: 0%;\n"]))),ae=V.a.input(N||(N=Object(Q.a)(["\n  border-width: 1px solid #906aa3;\n  color: #000000;\n  padding: 10px;\n  width: 66% !important;\n  border-radius: 5px;\n  margin: auto;\n  background: rgba(192, 192, 192, 0.8);\n  border: none;\n  box-shadow: 0 4px 10px #0000001a;\n  -webkit-box-shadow: 0 4px 10px #0000001a;\n  -moz-box-shadow: 0 4px 10px #0000001a;\n  outline: none;\n"]))),re=V.a.p(P||(P=Object(Q.a)(["\n  color: #f13013;\n  font-family: sans-serif;\n  text-align: center;\n"]))),se=V.a.button(U||(U=Object(Q.a)(["\n  color: white;\n  background-color: #a74d92;\n  height: 30px;\n  width: 72%;\n  padding: 10px;\n  border-radius: 5px;\n  border-width: 0px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  align-self: center;\n  box-shadow: 0 4px 10px #0000001a;\n  -webkit-box-shadow: 0 4px 10px #0000001a;\n  -moz-box-shadow: 0 4px 10px #0000001a;\n"]))),ce=V.a.div(T||(T=Object(Q.a)(["\n  height: 50vh;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]))),de=function(e){Object(p.a)(t,e);var n=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={isLoginLoading:!1,inputUserError:"",inputPasswordError:"",username:"",password:"",apiError:""},e.loginSuccess=function(n){var t=n.token,i=e.props.history;localStorage.setItem("login-token",t),i.replace("/")},e.loginFailure=function(n){var t=n.message;e.setState({apiError:t,inputUserError:"",inputPasswordError:""})},e.onChangeUser=function(n){e.setState({username:n.target.value})},e.onChangePassword=function(n){e.setState({password:n.target.value})},e.onClickSubmit=function(){var n=Object(d.a)(c.a.mark((function n(t){var i,o,a,r,s,d,l;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.setState({isLoginLoading:!0}),i=e.state,o=i.password,""===(a=i.username)||""===o){n.next=17;break}return e.setState({inputUserError:"",inputPasswordError:"",apiError:""}),r={username:a,password:o},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},"https://demo.credy.in/api/v1/usermodule/login/",n.next=10,fetch("https://demo.credy.in/api/v1/usermodule/login/",s);case 10:return d=n.sent,n.next=13,d.json();case 13:(l=n.sent).is_success?e.loginSuccess(l.data):e.loginFailure(l.error),n.next=18;break;case 17:""===a&&""!==o?e.setState({inputUserError:"*Required"}):""!==a&&""===o?e.setState({inputPasswordError:"*Required"}):e.setState({inputUserError:"*Required",inputPasswordError:"*Required"});case 18:e.setState({isLoginLoading:!1});case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.renderLoginForm=function(){var n=e.state,t=n.inputUserError,i=n.inputPasswordError,o=n.username,a=n.password,r=n.apiError;return n.isLoginLoading?Object(O.jsx)(ce,{children:Object(O.jsx)(j.a,{type:"ThreeDots",color:"#181279",height:80,width:80})}):Object(O.jsxs)(ee,{children:[Object(O.jsx)(ne,{children:Object(O.jsx)(te,{children:"Login "})}),Object(O.jsxs)(ie,{onSubmit:e.onClickSubmit,children:[Object(O.jsx)(oe,{htmlFor:"username",children:"Username"}),Object(O.jsx)(ae,{type:"text",id:"username",placeholder:"username",onChange:e.onChangeUser,value:o}),Object(O.jsx)(re,{children:t}),Object(O.jsx)(oe,{htmlFor:"password",children:"Password"}),Object(O.jsx)(ae,{type:"password",id:"password",placeholder:"password",onChange:e.onChangePassword,value:a}),Object(O.jsx)(re,{children:i}),Object(O.jsx)(se,{type:"submit",children:"Login"}),Object(O.jsx)(re,{children:r})]})]})},e.renderLoginLoader=function(){return Object(O.jsx)(ce,{children:Object(O.jsx)(j.a,{type:"Oval",color:"#84f0f5"})})},e}return Object(h.a)(t,[{key:"render",value:function(){var e=this.state.isLoginLoading;return null!==localStorage.getItem("login-token")?Object(O.jsx)(x.a,{to:"/"}):e?this.renderLoginForm():Object(O.jsx)($,{children:this.renderLoginForm()})}}]),t}(i.Component),le=t(12),he=t(9),pe=(t(74),t(24)),ue=t.n(pe),xe=V.a.li(z||(z=Object(Q.a)(["\n  list-style-type: none;\n  width: 31%;\n  height: 100%;\n  box-shadow: 0 4px 10px #0000001a;\n  -webkit-box-shadow: 0 4px 10px #0000001a;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  margin: 10px;\n  border-radius: 5px;\n  flex-grow: 0;\n  @media (max-width: 768px) {\n    width: 85%;\n    height: 100%;\n  }\n"]))),be=V.a.h1(F||(F=Object(Q.a)(["\n  height: 40px;\n  width: 35px;\n  border-radius: 30px;\n  padding: 10px;\n  color: #233230;\n  background-color: #cbcdcd;\n  border: 1px solid #000000;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]))),je=V.a.div(I||(I=Object(Q.a)(["\n  height: 100%;\n  overflow: none;\n  padding: 20px;\n  min-height: 230px;\n  justify-content: flex-start;\n  @media (min-width: 768px) {\n    // height: 25vh;\n  }\n"]))),ge=V.a.h1(A||(A=Object(Q.a)(['\n  font-family: "Trebuchet MS", "Lucida Sans Unicode", "Lucida Grande",\n    "Lucida Sans", Arial, sans-serif;\n  font-size: 20px;\n  color: #1b201f;\n']))),fe=V.a.span(R||(R=Object(Q.a)(["\n  color: #7e8181;\n  font-size: 15px;\n"]))),me=function(e){var n=e.details,t=e.openModal,i=n.description,o=n.genres,a=n.title,r=n.uuid;return Object(O.jsxs)(xe,{onClick:function(){t(r)},children:[Object(O.jsx)(be,{children:a[0]}),Object(O.jsxs)(je,{children:[Object(O.jsxs)(ge,{children:["Name: ",Object(O.jsxs)(fe,{children:[a,"..."]})]}),Object(O.jsxs)(ge,{children:["description:"," ",Object(O.jsxs)(fe,{children:[i.slice(0,250),"..."]})]}),Object(O.jsxs)(ge,{children:["Genre: ",Object(O.jsxs)(fe,{children:[o,"..."]})]})]})]})},Oe=(t(84),function(e){var n=e.handleClose,t=e.show?"modal-container display-block":"modal-container display-none",i=e.card[0],o=i.title,a=i.description,r=i.genres;return Object(O.jsx)("div",{className:t,children:Object(O.jsxs)("div",{className:"modal-details-containers",children:[Object(O.jsx)("h1",{className:"modal-initial",children:o[0]}),Object(O.jsx)("h1",{className:"modal-title",children:o}),Object(O.jsxs)("p",{className:"modal-heading",children:["Description: ",Object(O.jsx)("span",{className:"modal-value",children:a})]}),Object(O.jsxs)("p",{className:"modal-heading",children:["Genre: ",Object(O.jsx)("span",{className:"modal-value",children:r})]}),Object(O.jsx)("button",{type:"button",onClick:n,className:"close-button",children:"Close"})]})})}),we=V.a.div(G||(G=Object(Q.a)(["\n  height: 50vh;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]))),ve=V.a.div(J||(J=Object(Q.a)(["\n  width: 100%;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),ye=V.a.h1(q||(q=Object(Q.a)(['\n  font-family: "Trebuchet MS", "Lucida Sans Unicode", "Lucida Grande",\n    "Lucida Sans", Arial, sans-serif;\n  font-size: 50px;\n  font-weight: bold;\n']))),Le=V.a.ul(D||(D=Object(Q.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n"]))),ke=V.a.div(B||(B=Object(Q.a)(["\n  width: 150px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n"]))),Se=V.a.p(_||(_=Object(Q.a)(["\n  color: #000000;\n  border-radius: 5px;\n  padding: 10px 22px;\n  background-color: rgba(91, 219, 148, 0.7);\n  box-shadow: 0 4px 10px #0000001a;\n  -webkit-box-shadow: 0 4px 10px #0000001a;\n  color: white;\n  border: 1px solid white;\n"]))),Me=V.a.button(H||(H=Object(Q.a)(["\n  box-shadow: 0 4px 10px #0000001a;\n  -webkit-box-shadow: 0 4px 10px #0000001a;\n  background-color: rgba(91, 219, 148, 0.7);\n  height: 36px;\n  width: 60px;\n  border: 1px solid white;\n  border-radius: 5px;\n  color: white;\n"])));ue.a.setAppElement("#root");var Ce=function(e){Object(p.a)(t,e);var n=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=n.call(this)).handleOpenModal=function(n){var t=e.state.moviesList.filter((function(e){return e.uuid===n}));e.setState({showModal:!0,modalList:Object(le.a)({},t)})},e.handleCloseModal=function(){e.setState({showModal:!1})},e.getMoviesList=Object(d.a)(c.a.mark((function n(){var t,i,o,a,r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setState({isMoviesLoading:!0}),t=e.state.apiUrl,i=localStorage.getItem("login-token"),o={headers:{Authorization:"Token ".concat(i)},method:"GET"},n.next=6,fetch(t,o);case 6:if(200!==(a=n.sent).status){n.next=14;break}return n.next=10,a.json();case 10:r=n.sent,e.setState({moviesList:r.results,apiUrl:r.next,isSuccessful:!0,isMoviesLoading:!1,storedMoviesList:r.results}),n.next=15;break;case 14:401===a.status?e.props.history.replace("/login"):e.setState({moviesList:[],isSuccessful:!1,isMoviesLoading:!1,storedMoviesList:[]});case 15:case"end":return n.stop()}}),n)}))),e.onNextPage=function(){e.getMoviesList(),e.setState((function(e){return{page:e.page+1}}))},e.filterMovieList=function(n){var t=e.state.storedMoviesList.filter((function(e){if(e.title.toLowerCase().includes(n.target.value.trim().toLowerCase()))return Object(le.a)({},e)}));e.setState({moviesList:t})},e.renderMoviesPages=function(){var n=e.state,t=n.showModal,i=n.page,o=n.moviesList,a=n.modalList;return t?Object(O.jsx)(Oe,{show:e.state.showModal,handleClose:e.handleCloseModal,card:a}):Object(O.jsxs)(ve,{id:"Movies-Page-Container",children:[Object(O.jsx)(Z,{filterMovieList:e.filterMovieList}),Object(O.jsx)(ye,{children:"Movies List"}),Object(O.jsx)(Le,{children:o.map((function(n){return Object(O.jsx)(me,{details:n,openModal:e.handleOpenModal},n.uuid)}))}),Object(O.jsxs)(ke,{children:[Object(O.jsx)(Se,{children:i}),Object(O.jsx)(Me,{type:"button",onClick:e.onNextPage,children:"Next"})]})]})},e.renderSuccessful=function(){return null===localStorage.getItem("login-token")?Object(O.jsx)(x.a,{to:"/login"}):e.state.isSuccessful?e.renderMoviesPages():Object(O.jsx)("div",{children:Object(O.jsx)("button",{type:"button",onClick:e.getMoviesList,children:"Refresh"})})},e.state={showModal:!1,isSuccessful:!0,isMoviesLoading:!1,page:1,moviesList:[],apiUrl:"https://demo.credy.in/api/v1/maya/movies/",modalList:[],storedMoviesList:[]},e.handleOpenModal=e.handleOpenModal.bind(Object(he.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(he.a)(e)),e}return Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getMoviesList()}},{key:"render",value:function(){return this.state.isMoviesLoading?Object(O.jsx)(we,{children:Object(O.jsx)(j.a,{type:"Rings",color:"#2d9b63",height:80,width:80})}):this.renderSuccessful()}}]),t}(i.Component),Ee=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(Z,{}),Object(O.jsx)("h1",{children:"Not Found"})]})},Ne=function(){return Object(O.jsxs)(x.d,{children:[Object(O.jsx)(x.b,{exact:!0,path:"/login",component:de}),Object(O.jsx)(x.b,{exact:!0,path:"/",component:Ce}),Object(O.jsx)(x.b,{component:Ee})]})};t(85);r.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(g.a,{children:Object(O.jsx)(Ne,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.d143d0a0.chunk.js.map